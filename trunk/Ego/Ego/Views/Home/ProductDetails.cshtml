@using Ego
@using SiteExtensions.Graphics
@model Ego.Models.Order
           
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>           
<script type="text/javascript">
    $(function() {
        $("#Name").val("Ваше имя");
        $("#Phone").val("Номер телефона");
        $("#Email").val("Электропочта");
        $("#Size").val("Желаемый размер");
        $("#Description").val("Дополнительные комментарии");

        $("#Name").click(function() {
            if ($(this).val() == "Ваше имя") {
                $(this).val("");
            }
        });

        $("#Name").blur(function() {
            if ($(this).val() == "") {
                $(this).val("Ваше имя");
                $(this).css("color", "#ccc");
            }
        });


        $("#Phone").click(function() {
            if ($(this).val() == "Номер телефона") {
                $(this).val("");
            }
        });

        $("#Phone").blur(function() {
            if ($(this).val() == "") {
                $(this).val("Номер телефона");
                $(this).css("color", "#ccc");
            }
        });

        $("#Email").click(function() {
            if ($(this).val() == "Электропочта") {
                $(this).val("");
            }
        });

        $("#Email").blur(function() {
            if ($(this).val() == "") {
                $(this).val("Электропочта");
                $(this).css("color", "#ccc");
            }
        });


        $("#Size").click(function() {
            if ($(this).val() == "Желаемый размер") {
                $(this).val("");
            }
        });

        $("#Size").blur(function() {
            if ($(this).val() == "") {
                $(this).val("Желаемый размер");
                $(this).css("color", "#ccc");
            }
        });

        $("#Description").click(function () {
            if ($(this).val() == "Дополнительные комментарии") {
                $(this).val("");
            }
        });

        $("#Description").blur(function () {
            if ($(this).val() == "") {
                $(this).val("Дополнительные комментарии");
                $(this).css("color", "#ccc");
            }
        });

    });

    $("#Name, #Phone, #Email, #Size, #Description").keypress(function () {
        $(this).css("color", "#000");
    });


    function checkFields() {


        if ($("#Name").val() == "Ваше имя")
            $("#Name").val("");

        if ($("#Phone").val() == "Номер телефона")
            $("#Phone").val("");

        if ($("#Email").val() == "Электропочта")
            $("#Email").val("");

        if ($("#Size").val() == "Желаемый размер")
            $("#Size").val("");

        if ($("#Description").val() == "Дополнительные комментарии")
            $("#Description").val("");

        return true;
    }
</script>

@using (Html.BeginForm("Order","Home",FormMethod.Post,new{id="orderForm"}))
{
    
    @Html.HiddenFor(model => model.ProductId)
    @Html.HiddenFor(model => model.ProductImageSource)
    <div class="productDetails">
        <div class="productDetailsImage">
            @Html.Raw(Html.CachedImage("~/Content/Images/", Model.ProductImageSource, SiteSettings.GetThumbnail("product")))
        </div>
        <div class="orderForm">
            <div>
                @Html.EditorFor(model => model.Name)
                @Html.ValidationMessageFor(model => model.Name)
            </div>
            <div>
                @Html.EditorFor(model => model.Phone)
                @Html.ValidationMessageFor(model => model.Phone)
            </div>
            <div>
                @Html.EditorFor(model => model.Email)
                @Html.ValidationMessageFor(model => model.Email)
            </div>
            <div>
                @Html.EditorFor(model => model.Size)
                @Html.ValidationMessageFor(model => model.Size)
            </div>
             <div>
                @Html.TextAreaFor(model => model.Description)
                @Html.ValidationMessageFor(model => model.Description)
            </div>
        </div>
        <input type="submit" onclick="return checkFields()" value="Заказать" class="active" id="orderLink"/>
    </div>
}
