@using Vip.Helpers
@model Vip.Models.LayoutFilter
<div class="layoutFilterContainer">
    <div class="sign">
        вы выбрали:</div>
    <div class="changeLayoutLinkContainer">
        @Html.ActionLink("Изменить", "ShowSelector", "Catalogue", new { selector = "layout", category = ViewBag.CategoryName }, new { @class = "fancy" })
    </div>
    <div class="layoutInner">
        <div class="attributes">
            @foreach (var item in Model.Parents.Where(l => l.Parent == null))
            {
                @Html.Raw(item.Title + " ")
               if (item.Children.Any(child => WebSession.Layouts.Any(l => l.Id == child.Id)))
               {
                   foreach (var child in item.Children.Where(child => WebSession.Layouts.Any(l => l.Id == child.Id)))
                   {
                        <span>@child.Title</span>
                   }
               }
               else
               {
                    <span>все</span>
               }
            }
        </div>
    </div>
</div>
