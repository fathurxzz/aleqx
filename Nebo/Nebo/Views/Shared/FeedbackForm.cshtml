@model Nebo.Models.FeedbackFormModel
           


<script src="@Url.Content("~/Scripts/MvcCaptchaValidation.js")" type="text/javascript"></script>
<script type="text/javascript">
    function OnCaptchaValidationError() {
        $("#captchaImage").load("/Captcha/Draw");
    }


    function PostFailure() {
        alert("Failure");
    }

    function PostSuccess() {
        alert("Success");
    }

    function PostOnComplete() {
        alert("Complete");
    }
    </script>

@{
    
    Html.EnableClientValidation();
}
@using (Ajax.BeginForm("FeedbackForm", "Home", new AjaxOptions { HttpMethod = "Post",  OnFailure = "PostFailure", OnSuccess = "PostSuccess", OnComplete = "PostOnComplete" }))
{

    @Html.ValidationSummary(true)
    <table>
        <tr>
            <td>@Html.LabelFor(model => model.Name)
            </td>
            <td>
                @Html.TextBoxFor(model => model.Name)<br />
                @Html.ValidationMessageFor(model => model.Name)
            </td>
        </tr>
        <tr>
            <td>@Html.LabelFor(model => model.Email)
            </td>
            <td>
                @Html.TextBoxFor(model => model.Email)<br />
                @Html.ValidationMessageFor(model => model.Email)
            </td>
        </tr>
        <tr>
            <td>@Html.LabelFor(model => model.Text)
            </td>
            <td>
                @Html.TextAreaFor(model => model.Text)<br />
                @Html.ValidationMessageFor(model => model.Text)
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div id="captchaImage"> 
                    @Html.Action("Draw", new { area = "", controller = "Captcha" })
                </div>
            </td>
        </tr>
        <tr>
            <td>@Html.LabelFor(model => model.Captcha)
            </td>
            <td>
                @Html.TextBoxFor(model => model.Captcha)<br />
                @Html.ValidationMessageFor(model => model.Captcha)
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <input type="submit" value="Отправить" />
            </td>
        </tr>
    </table>
    
}
