@using HavilaTravel.Models
@model HavilaTravel.Models.Content
@if (Model.PlaceKind == (int)PlaceKind.Region ||
               Model.PlaceKind == (int)PlaceKind.Country ||
               Model.PlaceKind == (int)PlaceKind.City |
               Model.PlaceKind == (int)PlaceKind.SpaRegion)
{


    if (Request.IsAuthenticated)
    {

        <div class="subMenu">
            <table>
                <tr>
                    <td class="leftSide">
                    </td>
                    <td class="separator">
                    </td>
                    <td>
                        @switch (Model.PlaceKind)
                        {
                            case (int)PlaceKind.Region:
                                <div class="reviewLink">
                                    Выбрать страну
                                </div>
                                break;
                            case (int)PlaceKind.SpaRegion:
                                <div class="reviewLink">
                                    Выбрать страну
                                </div>
                                break;

                            case (int)PlaceKind.Country:
                                <div class="reviewLink">
                                    Выбрать город</div>
                                break;
                        }
                    
                        @if (Request.IsAuthenticated)
                        {
                            switch (Model.PlaceKind)
                            {
                                case (int)PlaceKind.Region:
                                    <div class="adminLinkContainer">
                                        @Html.ActionLink("+Страна", "AddSubmenu", "Content", new { Area = "Admin", id = Model.Id, placeKind = 2 }, new { @class = "adminLink" })
                                    </div>
                                   break;
                                case (int)PlaceKind.SpaRegion:
                                    <div class="adminLinkContainer">
                                        @Html.ActionLink("+Страна", "AddSubmenu", "Content", new { Area = "Admin", id = Model.Id, placeKind = 2 }, new { @class = "adminLink" })
                                    </div>
                                   break;

                                case (int)PlaceKind.Country:
                                    <div class="adminLinkContainer">
                                        @Html.ActionLink("+Город", "AddSubmenu", "Content", new { Area = "Admin", id = Model.Id, placeKind = 3 }, new { @class = "adminLink" })
                                    </div>
                                   break;
                            }

                        }
                    
                    </td>


                    @if (Request.IsAuthenticated)
                    {
                        <td>
                            @switch (Model.PlaceKind)
                            {
                                case (int)PlaceKind.Country:

                                    <div class="reviewResortLink">
                                        Курорты
                                    </div>


                                    <div class="adminLinkContainer">
                                        @Html.ActionLink("+Курорт", "AddSubmenu", "Content", new { Area = "Admin", id = Model.Id, placeKind = 12 }, new { @class = "adminLink" })
                                    </div>
                                   break;
                            }
                        </td>
                    }
                    else
                    {
                        switch (Model.PlaceKind)
                        {

                            case (int)PlaceKind.Country:
                                <td>
                                    <div class="reviewResortLink">
                                        Курорты
                                    </div>
                                </td>
                                break;
                        }
                    }

                    <td>
                        @{
                    if (Model.PlaceKind == (int)PlaceKind.Country)
                    {
                        var price = Model.Children.FirstOrDefault(c => c.PlaceKind == (int)PlaceKind.PriceTable);
                        if (price != null)
                        {

                            if (Request.QueryString["showPrices"] == "True")
                            {
                                        @Html.Raw("Цены по стране")
                            }

                            else
                            {
                                        @Html.ActionLink("Цены по стране", "Index", "Place", new { id = Model.Name, showPrices = true }, null)
                            }




                            if (Request.IsAuthenticated)
                            {
                                        <div class="adminLinkContainer">
                                            @Html.ActionLink("Редактировать", "Edit", "Content", new { Area = "Admin", id = price.Id }, new { @class = "adminLink" })
                                        </div>
                            }
                        }
                        else
                        {
                            if (Request.IsAuthenticated)
                            {
                                        @Html.ActionLink("+Цены по стране", "AddSubmenu", "Content", new { Area = "Admin", id = Model.Id, placeKind = 8 }, new { @class = "adminLink" })
                            }

                        }
                    }
                        }
                    </td>
                    <td class="separator">
                    </td>
                    <td class="rightSide">
                    </td>
                </tr>
            </table>
        </div>
    }
    else if (Model.PlaceKind != (int)PlaceKind.City)
    {
   <div class="subMenu">
            <table>
                <tr>
                    <td class="leftSide">
                    </td>
                    <td class="separator">
                    </td>
                    <td>
                        @switch (Model.PlaceKind)
                        {
                            case (int)PlaceKind.Region:
                                <div class="reviewLink">
                                    Выбрать страну
                                </div>
                                break;
                            case (int)PlaceKind.SpaRegion:
                                <div class="reviewLink">
                                    Выбрать страну
                                </div>
                                break;

                            case (int)PlaceKind.Country:
                                <div class="reviewLink">
                                    Выбрать город</div>
                                break;
                        }
                    
                        @if (Request.IsAuthenticated)
                        {
                            switch (Model.PlaceKind)
                            {
                                case (int)PlaceKind.Region:
                                    <div class="adminLinkContainer">
                                        @Html.ActionLink("+Страна", "AddSubmenu", "Content", new { Area = "Admin", id = Model.Id, placeKind = 2 }, new { @class = "adminLink" })
                                    </div>
                                   break;
                                case (int)PlaceKind.SpaRegion:
                                    <div class="adminLinkContainer">
                                        @Html.ActionLink("+Страна", "AddSubmenu", "Content", new { Area = "Admin", id = Model.Id, placeKind = 2 }, new { @class = "adminLink" })
                                    </div>
                                   break;

                                case (int)PlaceKind.Country:
                                    <div class="adminLinkContainer">
                                        @Html.ActionLink("+Город", "AddSubmenu", "Content", new { Area = "Admin", id = Model.Id, placeKind = 3 }, new { @class = "adminLink" })
                                    </div>
                                   break;
                            }

                        }
                    
                    </td>


                    @if (Request.IsAuthenticated)
                    {
                        <td>
                            @switch (Model.PlaceKind)
                            {
                                case (int)PlaceKind.Country:

                                    <div class="reviewResortLink">
                                        Курорты
                                    </div>


                                    <div class="adminLinkContainer">
                                        @Html.ActionLink("+Курорт", "AddSubmenu", "Content", new { Area = "Admin", id = Model.Id, placeKind = 12 }, new { @class = "adminLink" })
                                    </div>
                                   break;
                            }
                        </td>
                    }
                    else
                    {
                        switch (Model.PlaceKind)
                        {

                            case (int)PlaceKind.Country:
                                <td>
                                    <div class="reviewResortLink">
                                        Курорты
                                    </div>
                                </td>
                                break;
                        }
                    }

                    <td>
                        @{
                    if (Model.PlaceKind == (int)PlaceKind.Country)
                    {
                        var price = Model.Children.FirstOrDefault(c => c.PlaceKind == (int)PlaceKind.PriceTable);
                        if (price != null)
                        {

                            if (Request.QueryString["showPrices"] == "True")
                            {
                                        @Html.Raw("Цены по стране")
                            }

                            else
                            {
                                        @Html.ActionLink("Цены по стране", "Index", "Place", new { id = Model.Name, showPrices = true }, null)
                            }




                            if (Request.IsAuthenticated)
                            {
                                        <div class="adminLinkContainer">
                                            @Html.ActionLink("Редактировать", "Edit", "Content", new { Area = "Admin", id = price.Id }, new { @class = "adminLink" })
                                        </div>
                            }
                        }
                        else
                        {
                            if (Request.IsAuthenticated)
                            {
                                        @Html.ActionLink("+Цены по стране", "AddSubmenu", "Content", new { Area = "Admin", id = Model.Id, placeKind = 8 }, new { @class = "adminLink" })
                            }

                        }
                    }
                        }
                    </td>
                    <td class="separator">
                    </td>
                    <td class="rightSide">
                    </td>
                </tr>
            </table>
        </div>
    }
}